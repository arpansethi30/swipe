{"version":3,"file":"popup.js","mappings":"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","sources":["webpack://swipe-credit-card-recommender/./src/utils.ts","webpack://swipe-credit-card-recommender/webpack/bootstrap","webpack://swipe-credit-card-recommender/webpack/runtime/define property getters","webpack://swipe-credit-card-recommender/webpack/runtime/hasOwnProperty shorthand","webpack://swipe-credit-card-recommender/webpack/runtime/make namespace object","webpack://swipe-credit-card-recommender/./src/popup.ts"],"sourcesContent":["// Shared utility functions\n\n// Declare global window interface with content script functions\ndeclare global {\n  interface Window {\n    isCheckoutPage?: () => boolean;\n    getMerchantName?: () => string;\n    getPurchaseAmount?: () => number;\n    fillCardDetails?: (details: CardDetails | string) => any;\n  }\n}\n\n/**\n * Get CSS class for card styling based on card name\n */\nexport function getCardClass(cardName: string): string {\n  const lowerCaseName = (cardName || '').toLowerCase();\n  \n  if (lowerCaseName.includes('wells fargo')) {\n    return 'wells-fargo';\n  } else if (lowerCaseName.includes('citi')) {\n    return 'citi';\n  } else if (lowerCaseName.includes('chase')) {\n    return 'chase';\n  } else if (lowerCaseName.includes('amex') || lowerCaseName.includes('american express')) {\n    return 'amex';\n  } else if (lowerCaseName.includes('discover')) {\n    return 'discover';\n  }\n  \n  return '';\n}\n\n/**\n * Debug logger that also outputs to console\n */\nexport function debugLog(message: string, data?: any) {\n  const timestamp = new Date().toISOString();\n  const logMsg = `[SWIPE ${timestamp}] ${message}`;\n  \n  console.log(logMsg);\n  if (data !== undefined) {\n    console.log(data);\n  }\n  \n  return { message: logMsg, data };\n}\n\n/**\n * Create a test request to check if backend is running\n */\nexport async function testBackendConnection(): Promise<{success: boolean, message: string}> {\n  try {\n    const response = await fetch('http://localhost:5001/ping', { \n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    \n    if (response.ok) {\n      const data = await response.json();\n      return {\n        success: true,\n        message: `Backend connected: ${data.version} as of ${data.timestamp}`\n      };\n    } else {\n      return {\n        success: false,\n        message: `Backend error: ${response.status} ${response.statusText}`\n      };\n    }\n  } catch (error) {\n    return {\n      success: false,\n      message: `Backend connection failed: ${error instanceof Error ? error.message : String(error)}`\n    };\n  }\n}\n\n/**\n * Interface for credit card form fields found on a page\n */\nexport interface CardFormFields {\n  cardNumberField: HTMLInputElement | null;\n  cardNameField: HTMLInputElement | null;\n  expiryField: HTMLInputElement | null;\n  expiryMonthField: HTMLInputElement | HTMLSelectElement | null;\n  expiryYearField: HTMLInputElement | HTMLSelectElement | null;\n  cvcField: HTMLInputElement | null;\n}\n\n/**\n * Interface for credit card details\n */\nexport interface CardDetails {\n  cardNumber: string;\n  cardName: string;\n  expiryMonth: string;\n  expiryYear: string;\n  cvc: string;\n}\n\n/**\n * Find credit card form fields on the current page\n */\nexport function findFormFields(): CardFormFields {\n  const fields: CardFormFields = {\n    cardNumberField: null,\n    cardNameField: null,\n    expiryField: null,\n    expiryMonthField: null,\n    expiryYearField: null,\n    cvcField: null\n  };\n  \n  // Common selectors for credit card fields\n  const selectors = {\n    cardNumber: [\n      'input[name=\"card-number\"]',\n      'input[name=\"cardNumber\"]',\n      'input[name=\"card_number\"]',\n      'input[name=\"number\"]',\n      'input[autocomplete=\"cc-number\"]',\n      'input[name*=\"creditCard\"]',\n      'input[id*=\"cardNumber\"]',\n      'input[data-cy=\"card-number-input\"]',\n      '[name=\"cardnumber\"]'\n    ],\n    cardName: [\n      'input[name=\"card-name\"]',\n      'input[name=\"cardName\"]',\n      'input[name=\"card_name\"]',\n      'input[name=\"name\"]',\n      'input[name=\"ccname\"]',\n      'input[autocomplete=\"cc-name\"]',\n      'input[name*=\"nameOnCard\"]',\n      'input[id*=\"cardholderName\"]'\n    ],\n    expiry: [\n      'input[name=\"card-expiry\"]',\n      'input[name=\"cardExpiry\"]',\n      'input[name=\"expiry\"]',\n      'input[name=\"cc-exp\"]',\n      'input[autocomplete=\"cc-exp\"]',\n      'input[id*=\"expiration\"]',\n      'input[id*=\"expiry\"]',\n      'input[name=\"exp-date\"]'\n    ],\n    expiryMonth: [\n      'select[name=\"card-expiry-month\"]',\n      'select[name=\"cardExpiryMonth\"]',\n      'select[name=\"month\"]',\n      'select[name=\"expiryMonth\"]',\n      'select[id*=\"expiryMonth\"]',\n      'select[data-cy=\"expiry-month\"]',\n      'input[name=\"exp-month\"]'\n    ],\n    expiryYear: [\n      'select[name=\"card-expiry-year\"]',\n      'select[name=\"cardExpiryYear\"]',\n      'select[name=\"year\"]',\n      'select[name=\"expiryYear\"]',\n      'select[id*=\"expiryYear\"]',\n      'select[data-cy=\"expiry-year\"]',\n      'input[name=\"exp-year\"]'\n    ],\n    cvc: [\n      'input[name=\"card-cvc\"]',\n      'input[name=\"cardCvc\"]',\n      'input[name=\"cvc\"]',\n      'input[name=\"cvv\"]',\n      'input[name=\"csc\"]',\n      'input[autocomplete=\"cc-csc\"]',\n      'input[name*=\"securityCode\"]',\n      'input[id*=\"cvv\"]'\n    ]\n  };\n  \n  // Find each field\n  for (const selector of selectors.cardNumber) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.cardNumberField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.cardName) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.cardNameField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.expiry) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.expiryField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.expiryMonth) {\n    const field = document.querySelector(selector) as HTMLInputElement | HTMLSelectElement;\n    if (field) {\n      fields.expiryMonthField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.expiryYear) {\n    const field = document.querySelector(selector) as HTMLInputElement | HTMLSelectElement;\n    if (field) {\n      fields.expiryYearField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.cvc) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.cvcField = field;\n      break;\n    }\n  }\n  \n  return fields;\n}\n\n/**\n * Get test card details based on card name\n */\nexport function getCardDetails(cardName: string): CardDetails {\n  const lowerCaseName = cardName.toLowerCase();\n  \n  // Default card details\n  const defaultDetails: CardDetails = {\n    cardNumber: '4242 4242 4242 4242',\n    cardName: 'John Doe',\n    expiryMonth: '12',\n    expiryYear: '2030',\n    cvc: '123'\n  };\n  \n  // Card specific details\n  if (lowerCaseName.includes('visa') || lowerCaseName.includes('chase') || lowerCaseName.includes('wells fargo')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '4242 4242 4242 4242' // Visa format\n    };\n  } else if (lowerCaseName.includes('mastercard') || lowerCaseName.includes('citi')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '5555 5555 5555 4444' // Mastercard format\n    };\n  } else if (lowerCaseName.includes('amex') || lowerCaseName.includes('american express')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '3782 822463 10005', // Amex format\n      cvc: '1234' // Amex has 4-digit CVC\n    };\n  } else if (lowerCaseName.includes('discover')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '6011 1111 1111 1117' // Discover format\n    };\n  }\n  \n  return defaultDetails;\n} ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// This script handles the popup UI when the user clicks on the extension icon\nimport { getCardClass, getCardDetails, findFormFields, debugLog, testBackendConnection } from './utils';\n\n// DOM elements\nconst recommendationsEl = document.getElementById('recommendations') as HTMLElement;\nconst loadingEl = document.getElementById('loading') as HTMLElement;\nconst errorEl = document.getElementById('error') as HTMLElement;\nconst preferencesEl = document.getElementById('preferences') as HTMLElement;\nconst mainContentEl = document.getElementById('main-content') as HTMLElement;\nconst showPreferencesBtn = document.getElementById('show-preferences') as HTMLElement;\nconst preferencesBackBtn = document.getElementById('preferences-back') as HTMLElement;\nconst preferencesForm = document.getElementById('preferences-form') as HTMLFormElement;\n\n// Interface for user preferences\ninterface UserPreferences {\n  preferredIssuers: string[];\n  preferredNetworks: string[];\n  maxAnnualFee: number | null;\n}\n\n// Function to get active tab information\nasync function getActiveTab(): Promise<chrome.tabs.Tab | null> {\n  try {\n    const tabs = await chrome.tabs.query({ active: true, currentWindow: true });\n    return tabs[0] || null;\n  } catch (error) {\n    console.error('Error getting active tab:', error);\n    return null;\n  }\n}\n\n// Function to extract merchant name from URL\nfunction extractMerchantFromUrl(url: string): string {\n  try {\n    const hostname = new URL(url).hostname;\n    const domain = hostname.replace('www.', '').split('.')[0];\n    return domain.charAt(0).toUpperCase() + domain.slice(1);\n  } catch (error) {\n    return 'Unknown';\n  }\n}\n\n// Fill in credit card details on the active tab\nasync function fillCardDetails(cardName: string): Promise<void> {\n  const tab = await getActiveTab();\n  if (!tab || !tab.id) return;\n  \n  try {\n    // Show loading notification in popup\n    showNotification(`Filling in ${cardName} details...`, 'info');\n    \n    // Execute script in the active tab to fill card details\n    chrome.scripting.executeScript({\n      target: { tabId: tab.id },\n      func: (cardName) => {\n        // Get the card details function from the injected content script\n        // @ts-ignore - This function is defined in content.ts and exposed to window\n        const fillCardDetailsFunc = window.fillCardDetails || function() {\n          return { success: false, filledCount: 0, message: \"Card detail filling is not available\" };\n        };\n        \n        // Call the function with the card name\n        return fillCardDetailsFunc(cardName);\n      },\n      args: [cardName]\n    }).then((results) => {\n      // Handle the results\n      const result = results[0]?.result;\n      if (result?.success) {\n        showNotification(result.message, 'success');\n      } else {\n        showNotification(result?.message || 'Failed to fill card details', 'error');\n      }\n      console.log('Card filling results:', results);\n    }).catch((error) => {\n      showNotification(`Error: ${error.message}`, 'error');\n      console.error('Error filling card details:', error);\n    });\n  } catch (error) {\n    showNotification(`Error: ${error instanceof Error ? error.message : String(error)}`, 'error');\n    console.error('Error in fillCardDetails:', error);\n  }\n}\n\n// Function to show a notification in the popup\nfunction showNotification(message: string, type: 'success' | 'error' | 'info' = 'info'): void {\n  // Remove any existing notifications\n  const existingNotification = document.getElementById('notification');\n  if (existingNotification) {\n    existingNotification.remove();\n  }\n  \n  // Create notification element\n  const notification = document.createElement('div');\n  notification.id = 'notification';\n  notification.style.position = 'fixed';\n  notification.style.top = '10px';\n  notification.style.left = '50%';\n  notification.style.transform = 'translateX(-50%)';\n  notification.style.padding = '10px 15px';\n  notification.style.borderRadius = '4px';\n  notification.style.fontSize = '14px';\n  notification.style.textAlign = 'center';\n  notification.style.zIndex = '1000';\n  notification.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';\n  notification.style.transition = 'opacity 0.3s';\n  \n  // Set colors based on type\n  if (type === 'success') {\n    notification.style.backgroundColor = '#4CAF50';\n    notification.style.color = 'white';\n  } else if (type === 'error') {\n    notification.style.backgroundColor = '#F44336';\n    notification.style.color = 'white';\n  } else {\n    notification.style.backgroundColor = '#2196F3';\n    notification.style.color = 'white';\n  }\n  \n  notification.textContent = message;\n  \n  // Add to DOM\n  document.body.appendChild(notification);\n  \n  // Remove after 3 seconds\n  setTimeout(() => {\n    notification.style.opacity = '0';\n    setTimeout(() => {\n      if (notification.parentNode) {\n        notification.parentNode.removeChild(notification);\n      }\n    }, 300);\n  }, 3000);\n}\n\n// Wait for document to be ready\ndocument.addEventListener('DOMContentLoaded', init);\n\n// Initialize function\nasync function init() {\n  try {\n    // Setup tab navigation\n    setupTabs();\n    \n    // Setup header buttons\n    setupHeaderButtons();\n    \n    // Load user preferences\n    const preferences = await loadUserPreferences();\n    \n    // Update the preferences form with saved values\n    updatePreferencesForm(preferences);\n    \n    // Test backend connection\n    const connectionStatus = await testBackendConnection();\n    if (!connectionStatus.success) {\n      console.warn('Backend connection issue:', connectionStatus.message);\n    }\n    \n    // Check if we're on a checkout page\n    chrome.runtime.sendMessage({ action: 'isCheckoutPage' }, async (response) => {\n      if (response && response.isCheckout) {\n        // We're on a checkout page, get recommendations and switch to recommendations tab\n        selectTab('recommendations');\n        await getRecommendations(response.merchant, response.amount);\n      } else {\n        // Show the homepage by default\n        selectTab('home');\n        \n        // Load recommendation simulation in the background\n        simulateRecommendations();\n      }\n    });\n    \n    // Set up preferences navigation\n    setupPreferencesNavigation();\n    \n    // Setup preferences container\n    setupPreferencesContainer();\n    \n  } catch (error) {\n    console.error('Error initializing popup:', error);\n    showError('An error occurred while initializing');\n  }\n}\n\n// Setup tab navigation\nfunction setupTabs() {\n  const tabs = document.querySelectorAll('.tab');\n  \n  tabs.forEach(tab => {\n    tab.addEventListener('click', () => {\n      const tabId = tab.getAttribute('data-tab');\n      if (tabId) {\n        selectTab(tabId);\n      }\n    });\n  });\n}\n\n// Select a tab programmatically\nfunction selectTab(tabId: string) {\n  // Remove active class from all tabs and tab contents\n  document.querySelectorAll('.tab').forEach(tab => {\n    tab.classList.remove('active');\n  });\n  \n  document.querySelectorAll('.tab-content').forEach(content => {\n    content.classList.remove('active');\n  });\n  \n  // Add active class to selected tab and content\n  const selectedTab = document.querySelector(`.tab[data-tab=\"${tabId}\"]`);\n  const selectedContent = document.getElementById(tabId);\n  \n  if (selectedTab && selectedContent) {\n    selectedTab.classList.add('active');\n    selectedContent.classList.add('active');\n  }\n  \n  // Special handling for recommendations tab\n  if (tabId === 'recommendations') {\n    const recommendationsContainer = document.getElementById('recommendations-container');\n    const loadingElement = document.getElementById('loading');\n    \n    if (recommendationsContainer && loadingElement) {\n      if (recommendationsContainer.innerHTML === '') {\n        // If no recommendations loaded yet, show loading indicator\n        loadingElement.style.display = 'block';\n        recommendationsContainer.style.display = 'none';\n      }\n    }\n  }\n}\n\n// Setup header buttons\nfunction setupHeaderButtons() {\n  const refreshBtn = document.getElementById('refresh-btn');\n  const settingsBtn = document.getElementById('settings-btn');\n  \n  if (refreshBtn) {\n    refreshBtn.addEventListener('click', () => {\n      const activeTab = document.querySelector('.tab.active');\n      if (activeTab) {\n        const tabId = activeTab.getAttribute('data-tab');\n        if (tabId === 'recommendations') {\n          refreshRecommendations();\n        } else if (tabId === 'home') {\n          refreshHomeDashboard();\n        }\n      }\n    });\n  }\n  \n  if (settingsBtn) {\n    settingsBtn.addEventListener('click', () => {\n      showPreferences();\n    });\n  }\n}\n\n// Function to refresh the recommendations\nasync function refreshRecommendations() {\n  const recommendationsContainer = document.getElementById('recommendations-container');\n  const loadingElement = document.getElementById('loading');\n  const errorElement = document.getElementById('error');\n  \n  if (recommendationsContainer && loadingElement && errorElement) {\n    recommendationsContainer.style.display = 'none';\n    loadingElement.style.display = 'block';\n    errorElement.style.display = 'none';\n    \n    try {\n      chrome.runtime.sendMessage({ action: 'isCheckoutPage' }, async (response) => {\n        if (response && response.isCheckout) {\n          await getRecommendations(response.merchant, response.amount);\n        } else {\n          await simulateRecommendations();\n        }\n      });\n    } catch (error) {\n      console.error('Error refreshing recommendations:', error);\n      showError('Error refreshing recommendations');\n    }\n  }\n}\n\n// Function to refresh the home dashboard data\nfunction refreshHomeDashboard() {\n  // This would typically call an API to get updated stats\n  // For now, let's just show a notification\n  showNotification('Dashboard refreshed', 'success');\n}\n\n// Setup preferences navigation\nfunction setupPreferencesNavigation() {\n  const preferencesEl = document.getElementById('preferences');\n  const showPreferencesBtn = document.getElementById('settings-btn'); // Now using the header button\n  const preferencesBackBtn = document.getElementById('preferences-back');\n  const preferencesForm = document.getElementById('preferences-form');\n  \n  if (preferencesBackBtn) {\n    preferencesBackBtn.addEventListener('click', hidePreferences);\n  }\n  \n  if (preferencesForm) {\n    preferencesForm.addEventListener('submit', savePreferences);\n  }\n}\n\n// Show preferences tab\nfunction showPreferences() {\n  const recommendationsEl = document.getElementById('recommendations-container');\n  const preferencesEl = document.getElementById('preferences-container');\n  \n  if (recommendationsEl && preferencesEl) {\n    (recommendationsEl as HTMLElement).style.display = 'none';\n    (preferencesEl as HTMLElement).style.display = 'block';\n    \n    // Load saved preferences\n    loadPreferences();\n  }\n}\n\n// Hide preferences tab and show recommendations\nfunction hidePreferences() {\n  const recommendationsEl = document.getElementById('recommendations-container');\n  const preferencesEl = document.getElementById('preferences-container');\n  \n  if (recommendationsEl && preferencesEl) {\n    (recommendationsEl as HTMLElement).style.display = 'block';\n    (preferencesEl as HTMLElement).style.display = 'none';\n  }\n}\n\n// Load saved preferences from storage\nfunction loadPreferences() {\n  chrome.storage.sync.get(['cardPreferences'], (result) => {\n    const preferences = result.cardPreferences || {};\n    \n    // Populate dropdown for default card\n    const defaultCardSelect = document.getElementById('defaultCard') as HTMLSelectElement;\n    if (defaultCardSelect) {\n      defaultCardSelect.value = preferences.defaultCard || '';\n    }\n    \n    // Populate checkboxes for enabled cards\n    const enabledCards = preferences.enabledCards || [];\n    document.querySelectorAll('.card-checkbox').forEach((checkbox: Element) => {\n      const cardCheckbox = checkbox as HTMLInputElement;\n      cardCheckbox.checked = enabledCards.includes(cardCheckbox.value);\n    });\n  });\n}\n\n// Save preferences\nasync function savePreferences(e: Event) {\n  e.preventDefault();\n  \n  // Get all selected issuers\n  const issuerCheckboxes = document.querySelectorAll('input[name=\"issuer\"]:checked') as NodeListOf<HTMLInputElement>;\n  const preferredIssuers = Array.from(issuerCheckboxes).map(checkbox => checkbox.value);\n  \n  // Get all selected networks\n  const networkCheckboxes = document.querySelectorAll('input[name=\"network\"]:checked') as NodeListOf<HTMLInputElement>;\n  const preferredNetworks = Array.from(networkCheckboxes).map(checkbox => checkbox.value);\n  \n  // Get max annual fee\n  const maxFeeInput = document.getElementById('max-annual-fee') as HTMLInputElement;\n  const maxAnnualFee = maxFeeInput.value ? parseInt(maxFeeInput.value, 10) : null;\n  \n  // Save to storage\n  const preferences: UserPreferences = {\n    preferredIssuers,\n    preferredNetworks,\n    maxAnnualFee\n  };\n  \n  await new Promise<void>((resolve) => {\n    chrome.storage.sync.set(preferences, () => {\n      resolve();\n    });\n  });\n  \n  // Show notification and hide preferences\n  showNotification('Preferences saved', 'success');\n  hidePreferences();\n  \n  // Refresh active content\n  const activeTab = document.querySelector('.tab.active');\n  if (activeTab) {\n    const tabId = activeTab.getAttribute('data-tab');\n    if (tabId === 'recommendations') {\n      refreshRecommendations();\n    }\n  }\n}\n\n// Load user preferences from storage\nasync function loadUserPreferences(): Promise<UserPreferences> {\n  return new Promise((resolve) => {\n    chrome.storage.sync.get({\n      preferredIssuers: [],\n      preferredNetworks: [],\n      maxAnnualFee: null\n    }, (items) => {\n      resolve(items as UserPreferences);\n    });\n  });\n}\n\n// Update the preferences form with saved values\nfunction updatePreferencesForm(preferences: UserPreferences) {\n  // Update issuer checkboxes\n  const issuerCheckboxes = document.querySelectorAll('input[name=\"issuer\"]') as NodeListOf<HTMLInputElement>;\n  issuerCheckboxes.forEach(checkbox => {\n    checkbox.checked = preferences.preferredIssuers.includes(checkbox.value);\n  });\n  \n  // Update network checkboxes\n  const networkCheckboxes = document.querySelectorAll('input[name=\"network\"]') as NodeListOf<HTMLInputElement>;\n  networkCheckboxes.forEach(checkbox => {\n    checkbox.checked = preferences.preferredNetworks.includes(checkbox.value);\n  });\n  \n  // Update max annual fee\n  const maxFeeInput = document.getElementById('max-annual-fee') as HTMLInputElement;\n  if (preferences.maxAnnualFee !== null) {\n    maxFeeInput.value = preferences.maxAnnualFee.toString();\n  } else {\n    maxFeeInput.value = '';\n  }\n}\n\n// Get recommendations from backend via background script\nasync function getRecommendations(merchant: string, amount: number) {\n  const recommendationsContainer = document.getElementById('recommendations-container');\n  const loadingElement = document.getElementById('loading');\n  const errorElement = document.getElementById('error');\n  \n  if (recommendationsContainer && loadingElement && errorElement) {\n    recommendationsContainer.style.display = 'none';\n    loadingElement.style.display = 'block';\n    errorElement.style.display = 'none';\n    \n    try {\n      // Load user preferences\n      const preferences = await loadUserPreferences();\n      \n      // Send message to background script to get recommendations\n      chrome.runtime.sendMessage({\n        action: 'getRecommendations',\n        merchant,\n        amount,\n        preferences\n      }, (response) => {\n        if (response && response.success && response.recommendations) {\n          renderRecommendations(response.recommendations, merchant, amount);\n        } else {\n          showError('Unable to get recommendations');\n        }\n      });\n    } catch (error) {\n      console.error('Error getting recommendations:', error);\n      showError('Error getting recommendations');\n    }\n  }\n}\n\n// Simulate recommendations for demo\nasync function simulateRecommendations() {\n  const recommendationsContainer = document.getElementById('recommendations-container');\n  const loadingElement = document.getElementById('loading');\n  const errorElement = document.getElementById('error');\n  \n  if (recommendationsContainer && loadingElement && errorElement) {\n    try {\n      const demoMerchant = 'Amazon';\n      const demoAmount = 40.50;\n      \n      // Load user preferences\n      const preferences = await loadUserPreferences();\n      \n      // Send message to background script to get recommendations\n      chrome.runtime.sendMessage({\n        action: 'getRecommendations',\n        merchant: demoMerchant,\n        amount: demoAmount,\n        preferences\n      }, (response) => {\n        if (response && response.success && response.recommendations) {\n          renderRecommendations(response.recommendations, demoMerchant, demoAmount);\n        } else {\n          showError('Unable to get recommendations');\n        }\n      });\n    } catch (error) {\n      console.error('Error getting recommendations:', error);\n      showError('Error getting recommendations');\n    }\n  }\n}\n\n// Render recommendations in the UI\nfunction renderRecommendations(recommendations: any, merchant: string, amount: number) {\n  const recommendationsEl = document.getElementById('recommendations-container');\n  const loadingElement = document.getElementById('loading');\n  const errorElement = document.getElementById('error');\n  \n  if (recommendationsEl && loadingElement && errorElement) {\n    // Hide loading indicator\n    loadingElement.style.display = 'none';\n    errorElement.style.display = 'none';\n    \n    // Clear recommendations container\n    recommendationsEl.innerHTML = '';\n    \n    if (!recommendations || !recommendations.length) {\n      showError('No recommendations found');\n      return;\n    }\n    \n    // Sort recommendations by cashback percentage (descending)\n    recommendations.sort((a: any, b: any) => b.cashback_percentage - a.cashback_percentage);\n\n    let html = '<div class=\"recommendations-container\">';\n    \n    // Display the best recommendation prominently\n    const bestRec = recommendations[0];\n    html += `\n      <div class=\"best-card\">\n        <h3>Best Card for this Purchase</h3>\n        <div class=\"card ${getCardClass(bestRec.name)}\">\n          <div class=\"card-info\">\n            <h4>${bestRec.name}</h4>\n            <p class=\"cashback\">${bestRec.cashback_percentage}% cashback</p>\n            <p class=\"category\">${bestRec.category || 'General Purchase'}</p>\n          </div>\n        </div>\n      </div>\n    `;\n    \n    // Display other recommendations\n    if (recommendations.length > 1) {\n      html += '<div class=\"other-cards\"><h3>Other Options</h3><div class=\"cards-grid\">';\n      \n      for (let i = 1; i < Math.min(recommendations.length, 4); i++) {\n        const rec = recommendations[i];\n        html += `\n          <div class=\"card-small ${getCardClass(rec.name)}\">\n            <div class=\"card-info-small\">\n              <h5>${rec.name}</h5>\n              <p class=\"cashback-small\">${rec.cashback_percentage}%</p>\n            </div>\n          </div>\n        `;\n      }\n      \n      html += '</div></div>';\n    }\n    \n    html += `\n      <div class=\"action-buttons\">\n        <button id=\"useCardBtn\" class=\"primary-button\">Use ${bestRec.name}</button>\n        <button id=\"editPrefsBtn\" class=\"secondary-button\">Edit Preferences</button>\n      </div>\n    `;\n    \n    html += '</div>';\n    \n    recommendationsEl.innerHTML = html;\n    \n    // Add event listeners\n    document.getElementById('useCardBtn')?.addEventListener('click', () => {\n      fillCardDetails(bestRec.name);\n    });\n    \n    document.getElementById('editPrefsBtn')?.addEventListener('click', () => {\n      showPreferences();\n    });\n  }\n}\n\n// Show loading indicator\nfunction showLoading() {\n  const recommendationsContainer = document.getElementById('recommendations-container');\n  const loadingElement = document.getElementById('loading');\n  const errorElement = document.getElementById('error');\n  \n  if (recommendationsContainer && loadingElement && errorElement) {\n    recommendationsContainer.style.display = 'none';\n    errorElement.style.display = 'none';\n    loadingElement.style.display = 'block';\n  }\n}\n\n// Show error message\nfunction showError(message: string) {\n  const recommendationsContainer = document.getElementById('recommendations-container');\n  const loadingElement = document.getElementById('loading');\n  const errorElement = document.getElementById('error');\n  \n  if (recommendationsContainer && loadingElement && errorElement) {\n    recommendationsContainer.style.display = 'none';\n    loadingElement.style.display = 'none';\n    errorElement.textContent = message;\n    errorElement.style.display = 'block';\n  }\n}\n\n// Setup preferences container event listeners\nfunction setupPreferencesContainer() {\n  const preferencesEl = document.getElementById('preferences-container');\n  if (!preferencesEl) return;\n  \n  // Add save button listener\n  const saveBtn = document.getElementById('save-preferences');\n  if (saveBtn) {\n    saveBtn.addEventListener('click', (e) => {\n      savePreferences(e);\n    });\n  }\n  \n  // Add back button listener\n  const backBtn = document.getElementById('back-to-recommendations');\n  if (backBtn) {\n    backBtn.addEventListener('click', () => {\n      hidePreferences();\n    });\n  }\n} "],"names":[],"sourceRoot":""}