{"version":3,"file":"background.js","mappings":"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","sources":["webpack://swipe-credit-card-recommender/./src/utils.ts","webpack://swipe-credit-card-recommender/webpack/bootstrap","webpack://swipe-credit-card-recommender/webpack/runtime/define property getters","webpack://swipe-credit-card-recommender/webpack/runtime/hasOwnProperty shorthand","webpack://swipe-credit-card-recommender/webpack/runtime/make namespace object","webpack://swipe-credit-card-recommender/./src/background.ts"],"sourcesContent":["// Shared utility functions\n\n// Declare global window interface with content script functions\ndeclare global {\n  interface Window {\n    isCheckoutPage?: () => boolean;\n    getMerchantName?: () => string;\n    getPurchaseAmount?: () => number;\n    fillCardDetails?: (details: CardDetails | string) => any;\n  }\n}\n\n/**\n * Get CSS class for card styling based on card name\n */\nexport function getCardClass(cardName: string): string {\n  const name = cardName.toLowerCase();\n  \n  if (name.includes('wells fargo') || name.includes('wellsfargo')) {\n    return 'wells-fargo';\n  } else if (name.includes('citi') || name.includes('citibank')) {\n    return 'citi';\n  } else if (name.includes('chase') || name.includes('freedom') || name.includes('sapphire')) {\n    return 'chase';\n  } else if (name.includes('amex') || name.includes('american express')) {\n    return 'amex';\n  } else if (name.includes('discover')) {\n    return 'discover';\n  } else if (name.includes('capital one') || name.includes('capitalOne')) {\n    return 'capital-one';\n  } else if (name.includes('bilt')) {\n    return 'bilt';\n  }\n  \n  return '';\n}\n\n/**\n * Get card image URL based on card name\n */\nexport function getCardImageUrl(cardName: string): string {\n  const name = cardName.toLowerCase();\n  \n  if (name.includes('wells fargo') || name.includes('wellsfargo') || name.includes('active cash')) {\n    return 'https://www.wellsfargo.com/assets/images/photography/product-photography/credit-cards/wf_propel_american_express_card_600x337.png';\n  } else if (name.includes('citi') || name.includes('citibank')) {\n    return 'https://www.citi.com/CRD/images/card-images/citi-double-cash-credit-card.jpg';\n  } else if (name.includes('freedom') || name.includes('flex')) {\n    return 'https://creditcards.chase.com/K-Marketplace/images/cards/cardart_freedom_flex.png';\n  } else if (name.includes('chase') || name.includes('sapphire')) {\n    return 'https://creditcards.chase.com/K-Marketplace/images/cards/cardart_sapphirepreferred.png';\n  } else if (name.includes('amex') || name.includes('american express')) {\n    return 'https://icm.aexp-static.com/Internet/Acquisition/US_en/AppContent/OneSite/category/cardarts/blue-cash-everyday.png';\n  } else if (name.includes('discover')) {\n    return 'https://www.discover.com/content/dam/discover/en_us/credit-cards/card-art/discover-it-card-img.png';\n  } else if (name.includes('capital one') || name.includes('capitalOne')) {\n    return 'https://ecm.capitalone.com/WCM/card/products/quicksilver-card-art.png';\n  } else if (name.includes('bilt')) {\n    return 'https://www.biltrewards.com/static/media/card-front.fca8eb64.png';\n  }\n  \n  // Default card image if no match\n  return 'https://www.creditcardinsider.com/wp-content/uploads/2019/09/generic-credit-card.png';\n}\n\n/**\n * Debug logger that also outputs to console\n */\nexport function debugLog(message: string, data?: any) {\n  const timestamp = new Date().toISOString();\n  const logMsg = `[SWIPE ${timestamp}] ${message}`;\n  \n  console.log(logMsg);\n  if (data !== undefined) {\n    console.log(data);\n  }\n  \n  return { message: logMsg, data };\n}\n\n/**\n * Create a test request to check if backend is running\n */\nexport async function testBackendConnection(): Promise<{success: boolean, message: string}> {\n  try {\n    const response = await fetch('http://localhost:5001/ping', { \n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    \n    if (response.ok) {\n      const data = await response.json();\n      return {\n        success: true,\n        message: `Backend connected: ${data.version} as of ${data.timestamp}`\n      };\n    } else {\n      return {\n        success: false,\n        message: `Backend error: ${response.status} ${response.statusText}`\n      };\n    }\n  } catch (error) {\n    return {\n      success: false,\n      message: `Backend connection failed: ${error instanceof Error ? error.message : String(error)}`\n    };\n  }\n}\n\n/**\n * Interface for credit card form fields found on a page\n */\nexport interface CardFormFields {\n  cardNumberField: HTMLInputElement | null;\n  cardNameField: HTMLInputElement | null;\n  expiryField: HTMLInputElement | null;\n  expiryMonthField: HTMLInputElement | HTMLSelectElement | null;\n  expiryYearField: HTMLInputElement | HTMLSelectElement | null;\n  cvcField: HTMLInputElement | null;\n}\n\n/**\n * Interface for credit card details\n */\nexport interface CardDetails {\n  cardNumber: string;\n  cardName: string;\n  expiryMonth: string;\n  expiryYear: string;\n  cvc: string;\n}\n\n/**\n * Find credit card form fields on the current page\n */\nexport function findFormFields(): CardFormFields {\n  const fields: CardFormFields = {\n    cardNumberField: null,\n    cardNameField: null,\n    expiryField: null,\n    expiryMonthField: null,\n    expiryYearField: null,\n    cvcField: null\n  };\n  \n  // Common selectors for credit card fields\n  const selectors = {\n    cardNumber: [\n      'input[name=\"card-number\"]',\n      'input[name=\"cardNumber\"]',\n      'input[name=\"card_number\"]',\n      'input[name=\"number\"]',\n      'input[autocomplete=\"cc-number\"]',\n      'input[name*=\"creditCard\"]',\n      'input[id*=\"cardNumber\"]',\n      'input[data-cy=\"card-number-input\"]',\n      '[name=\"cardnumber\"]'\n    ],\n    cardName: [\n      'input[name=\"card-name\"]',\n      'input[name=\"cardName\"]',\n      'input[name=\"card_name\"]',\n      'input[name=\"name\"]',\n      'input[name=\"ccname\"]',\n      'input[autocomplete=\"cc-name\"]',\n      'input[name*=\"nameOnCard\"]',\n      'input[id*=\"cardholderName\"]'\n    ],\n    expiry: [\n      'input[name=\"card-expiry\"]',\n      'input[name=\"cardExpiry\"]',\n      'input[name=\"expiry\"]',\n      'input[name=\"cc-exp\"]',\n      'input[autocomplete=\"cc-exp\"]',\n      'input[id*=\"expiration\"]',\n      'input[id*=\"expiry\"]',\n      'input[name=\"exp-date\"]'\n    ],\n    expiryMonth: [\n      'select[name=\"card-expiry-month\"]',\n      'select[name=\"cardExpiryMonth\"]',\n      'select[name=\"month\"]',\n      'select[name=\"expiryMonth\"]',\n      'select[id*=\"expiryMonth\"]',\n      'select[data-cy=\"expiry-month\"]',\n      'input[name=\"exp-month\"]'\n    ],\n    expiryYear: [\n      'select[name=\"card-expiry-year\"]',\n      'select[name=\"cardExpiryYear\"]',\n      'select[name=\"year\"]',\n      'select[name=\"expiryYear\"]',\n      'select[id*=\"expiryYear\"]',\n      'select[data-cy=\"expiry-year\"]',\n      'input[name=\"exp-year\"]'\n    ],\n    cvc: [\n      'input[name=\"card-cvc\"]',\n      'input[name=\"cardCvc\"]',\n      'input[name=\"cvc\"]',\n      'input[name=\"cvv\"]',\n      'input[name=\"csc\"]',\n      'input[autocomplete=\"cc-csc\"]',\n      'input[name*=\"securityCode\"]',\n      'input[id*=\"cvv\"]'\n    ]\n  };\n  \n  // Find each field\n  for (const selector of selectors.cardNumber) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.cardNumberField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.cardName) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.cardNameField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.expiry) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.expiryField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.expiryMonth) {\n    const field = document.querySelector(selector) as HTMLInputElement | HTMLSelectElement;\n    if (field) {\n      fields.expiryMonthField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.expiryYear) {\n    const field = document.querySelector(selector) as HTMLInputElement | HTMLSelectElement;\n    if (field) {\n      fields.expiryYearField = field;\n      break;\n    }\n  }\n  \n  for (const selector of selectors.cvc) {\n    const field = document.querySelector(selector) as HTMLInputElement;\n    if (field) {\n      fields.cvcField = field;\n      break;\n    }\n  }\n  \n  return fields;\n}\n\n/**\n * Get test card details based on card name\n */\nexport function getCardDetails(cardName: string): CardDetails {\n  const lowerCaseName = cardName.toLowerCase();\n  \n  // Default card details\n  const defaultDetails: CardDetails = {\n    cardNumber: '4242 4242 4242 4242',\n    cardName: 'John Doe',\n    expiryMonth: '12',\n    expiryYear: '2030',\n    cvc: '123'\n  };\n  \n  // Card specific details\n  if (lowerCaseName.includes('visa') || lowerCaseName.includes('chase') || lowerCaseName.includes('wells fargo')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '4242 4242 4242 4242' // Visa format\n    };\n  } else if (lowerCaseName.includes('mastercard') || lowerCaseName.includes('citi')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '5555 5555 5555 4444' // Mastercard format\n    };\n  } else if (lowerCaseName.includes('amex') || lowerCaseName.includes('american express')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '3782 822463 10005', // Amex format\n      cvc: '1234' // Amex has 4-digit CVC\n    };\n  } else if (lowerCaseName.includes('discover')) {\n    return {\n      ...defaultDetails,\n      cardNumber: '6011 1111 1111 1117' // Discover format\n    };\n  }\n  \n  return defaultDetails;\n} ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { CardDetails, getCardDetails } from './utils';\n\n// No need to redeclare Window interface as it's now in utils.ts\n\n// API endpoint for recommendations\nconst API_URL = 'http://localhost:5001/api/recommend';\nconst API_CARDS_URL = 'http://localhost:5001/api/cards';\nconst API_SEARCH_URL = 'http://localhost:5001/api/search';\n\n// User preferences (will be loaded from storage)\ninterface UserPreferences {\n  preferred_issuers?: string[];\n  preferred_networks?: string[];\n  max_annual_fee?: number;\n}\n\n// Cache for storing recommendations to prevent excessive API calls\ninterface CacheEntry {\n  timestamp: number;\n  data: any;\n}\n\nconst recommendationsCache: Record<string, CacheEntry> = {};\nlet cardsCache: CacheEntry | null = null;\nconst CACHE_EXPIRY = 5 * 60 * 1000; // 5 minutes in milliseconds\n\n// Load user preferences from storage\nlet userPreferences: UserPreferences = {};\n\n// Load preferences when the extension starts\nchrome.storage.sync.get('userPreferences', (result) => {\n  if (result.userPreferences) {\n    userPreferences = result.userPreferences;\n    console.log('Loaded user preferences:', userPreferences);\n  }\n});\n\n// Request necessary permissions when the extension is installed or updated\nchrome.runtime.onInstalled.addListener(() => {\n  // Request optional permissions\n  chrome.permissions.request({\n    permissions: ['scripting', 'activeTab']\n  }, (granted) => {\n    if (granted) {\n      console.log('Necessary permissions granted');\n    } else {\n      console.warn('Permissions not granted, some features may not work properly');\n    }\n  });\n});\n\n// Backend API URL\nconst BACKEND_URL = 'http://localhost:5001';\n\n// Message handler\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  // Handle different message actions\n  switch (message.action) {\n    case 'isCheckoutPage':\n      handleIsCheckoutPage(sender.tab?.id, sendResponse);\n      break;\n    case 'getRecommendations':\n      handleGetRecommendations(message.merchant, message.amount, message.preferences, sendResponse);\n      break;\n    case 'fillCardDetails':\n      handleFillCardDetails(sender.tab?.id, message.cardName, sendResponse);\n      break;\n    case 'saveUserPreferences':\n      handleSaveUserPreferences(message.preferences, sendResponse);\n      break;\n    case 'getUserPreferences':\n      handleGetUserPreferences(sendResponse);\n      break;\n    case 'getAllCards':\n      handleGetAllCards(sendResponse);\n      break;\n    case 'searchCards':\n      handleSearchCards(message.query, sendResponse);\n      break;\n    default:\n      console.warn(`Unknown action: ${message.action}`);\n      sendResponse({ success: false, error: 'Unknown action' });\n  }\n  \n  // Return true to indicate we will respond asynchronously\n  return true;\n});\n\n// Handle checkout page check\nasync function handleIsCheckoutPage(tabId: number | undefined, sendResponse: (response?: any) => void) {\n  if (!tabId) {\n    sendResponse({ isCheckout: false });\n    return;\n  }\n  \n  try {\n    // Execute content script to check if it's a checkout page\n    const results = await chrome.scripting.executeScript({\n      target: { tabId },\n      func: () => {\n        // Check if we're on a checkout page\n        if (typeof window.isCheckoutPage === 'function') {\n          return {\n            isCheckout: window.isCheckoutPage(),\n            merchant: window.getMerchantName?.() || 'Unknown',\n            amount: window.getPurchaseAmount?.() || 40.50\n          };\n        }\n        return { isCheckout: false };\n      }\n    });\n    \n    // Send response\n    if (results && results[0]?.result) {\n      sendResponse(results[0].result);\n    } else {\n      sendResponse({ isCheckout: false });\n    }\n  } catch (error) {\n    console.error('Error checking checkout page:', error);\n    sendResponse({ isCheckout: false });\n  }\n}\n\n// Handle getting recommendations\nasync function handleGetRecommendations(\n  merchant: string, \n  amount: number, \n  preferences: any,\n  sendResponse: (response?: any) => void\n) {\n  try {\n    // Prepare request data\n    const requestData: {\n      merchant: string;\n      amount: number;\n      user_preferences: {\n        preferred_issuers?: string[];\n        preferred_networks?: string[];\n        max_annual_fee?: number;\n      };\n    } = {\n      merchant,\n      amount,\n      user_preferences: {}\n    };\n    \n    // Add preferences if they exist\n    if (preferences) {\n      if (preferences.preferredIssuers && preferences.preferredIssuers.length > 0) {\n        requestData.user_preferences.preferred_issuers = preferences.preferredIssuers;\n      }\n      \n      if (preferences.preferredNetworks && preferences.preferredNetworks.length > 0) {\n        requestData.user_preferences.preferred_networks = preferences.preferredNetworks;\n      }\n      \n      if (preferences.maxAnnualFee !== null && preferences.maxAnnualFee !== undefined) {\n        requestData.user_preferences.max_annual_fee = preferences.maxAnnualFee;\n      }\n    }\n    \n    console.log('Sending recommendation request:', requestData);\n    \n    // Fetch recommendations from API using POST\n    const response = await fetch(`${BACKEND_URL}/api/recommend`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(requestData)\n    });\n    \n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error(`API error (${response.status}): ${errorText}`);\n      throw new Error(`API error: ${response.status} - ${errorText}`);\n    }\n    \n    const data = await response.json();\n    console.log('Received recommendations:', data);\n    \n    // Send response back\n    sendResponse({\n      success: true,\n      recommendations: data.recommendations || []\n    });\n  } catch (error: any) {\n    console.error('Error getting recommendations:', error);\n    \n    // Fallback to dummy data for demo\n    const dummyRecommendations = [\n      {\n        name: 'Chase Freedom Unlimited',\n        issuer: 'Chase',\n        rewardPercentage: 5,\n        explanation: '5% cashback on travel purchased through Chase',\n        cashback: amount * 0.05\n      },\n      {\n        name: 'Citi Double Cash',\n        issuer: 'Citi',\n        rewardPercentage: 2,\n        explanation: '2% on all purchases',\n        cashback: amount * 0.02\n      },\n      {\n        name: 'Discover it Cash Back',\n        issuer: 'Discover',\n        rewardPercentage: 1.5,\n        explanation: '1.5% on all purchases',\n        cashback: amount * 0.015\n      },\n      {\n        name: 'American Express Blue Cash Preferred',\n        issuer: 'American Express',\n        rewardPercentage: 6,\n        explanation: '6% at U.S. supermarkets',\n        cashback: amount * 0.06\n      },\n      {\n        name: 'Wells Fargo Active Cash',\n        issuer: 'Wells Fargo',\n        rewardPercentage: 2,\n        explanation: '2% cash back on all purchases',\n        cashback: amount * 0.02\n      }\n    ];\n    \n    sendResponse({\n      success: true,\n      recommendations: dummyRecommendations,\n      error: `Using demo data: ${error.message}`\n    });\n  }\n}\n\n// Handle filling card details\nasync function handleFillCardDetails(\n  tabId: number | undefined, \n  cardName: string,\n  sendResponse: (response?: any) => void\n) {\n  if (!tabId) {\n    sendResponse({ success: false, error: 'No active tab' });\n    return;\n  }\n  \n  try {\n    // Get card details\n    const cardDetails = getCardDetails(cardName);\n    \n    // Execute content script to fill card details\n    await chrome.scripting.executeScript({\n      target: { tabId },\n      func: (details: CardDetails) => {\n        if (typeof window.fillCardDetails === 'function') {\n          window.fillCardDetails(details);\n          return { success: true };\n        }\n        return { success: false, error: 'fillCardDetails not available' };\n      },\n      args: [cardDetails]\n    });\n    \n    sendResponse({ success: true });\n  } catch (error) {\n    console.error('Error filling card details:', error);\n    sendResponse({ success: false, error: String(error) });\n  }\n}\n\n// Handle saving user preferences\nfunction handleSaveUserPreferences(preferences: UserPreferences, sendResponse: (response?: any) => void) {\n  userPreferences = preferences;\n  chrome.storage.sync.set({ userPreferences }, () => {\n    console.log('User preferences saved:', userPreferences);\n    sendResponse({ success: true });\n  });\n}\n\n// Handle getting user preferences\nfunction handleGetUserPreferences(sendResponse: (response?: any) => void) {\n  sendResponse({ preferences: userPreferences });\n}\n\n// Handle getting all cards\nasync function handleGetAllCards(sendResponse: (response?: any) => void) {\n  try {\n    const response = await fetch(API_CARDS_URL);\n    \n    if (!response.ok) {\n      throw new Error(`API error: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    \n    sendResponse({ cards: data.cards });\n  } catch (error) {\n    console.error('Error fetching all cards:', error);\n    sendResponse({ error: String(error) });\n  }\n}\n\n// Handle searching cards\nasync function handleSearchCards(query: string, sendResponse: (response?: any) => void) {\n  try {\n    const response = await fetch(`${API_SEARCH_URL}?q=${encodeURIComponent(query)}`);\n    \n    if (!response.ok) {\n      throw new Error(`API error: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    sendResponse({ results: data.results });\n  } catch (error) {\n    console.error('Error searching cards:', error);\n    sendResponse({ error: String(error) });\n  }\n}\n\n// Fetch recommendations from API\nasync function fetchRecommendations(merchant: string, amount: number): Promise<any> {\n  // Create a cache key\n  const cacheKey = `${merchant.toLowerCase()}_${amount}_${JSON.stringify(userPreferences)}`;\n  \n  // Check cache first\n  if (recommendationsCache[cacheKey] && \n      (Date.now() - recommendationsCache[cacheKey].timestamp) < CACHE_EXPIRY) {\n    console.log('Using cached recommendations');\n    return recommendationsCache[cacheKey].data;\n  }\n  \n  try {\n    const response = await fetch(API_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ \n        merchant, \n        amount,\n        user_preferences: userPreferences \n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`API error: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    \n    // Cache the result\n    recommendationsCache[cacheKey] = {\n      timestamp: Date.now(),\n      data\n    };\n    \n    return data;\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw new Error(String(error));\n  }\n}\n\n// Fetch all cards from API\nasync function fetchAllCards(): Promise<any> {\n  // Check cache first\n  if (cardsCache && (Date.now() - cardsCache.timestamp) < CACHE_EXPIRY) {\n    console.log('Using cached cards data');\n    return cardsCache.data;\n  }\n  \n  try {\n    const response = await fetch(API_CARDS_URL);\n    \n    if (!response.ok) {\n      throw new Error(`API error: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    \n    // Cache the result\n    const newCache: CacheEntry = {\n      timestamp: Date.now(),\n      data: data.cards\n    };\n    \n    // Update global cache\n    cardsCache = newCache;\n    \n    return data.cards;\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw new Error(String(error));\n  }\n}\n\n// Search cards by query\nasync function searchCards(query: string): Promise<any> {\n  try {\n    const response = await fetch(`${API_SEARCH_URL}?q=${encodeURIComponent(query)}`);\n    \n    if (!response.ok) {\n      throw new Error(`API error: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw new Error(String(error));\n  }\n}\n\n// Fallback recommendations if API is unavailable\nfunction getFallbackRecommendations(merchant: string, amount: number): any {\n  const merchantLower = merchant.toLowerCase();\n  let category = 'other';\n  \n  // Simple merchant classification\n  if (merchantLower.includes('amazon')) {\n    category = 'amazon';\n  } else if (merchantLower.includes('airline') || merchantLower.includes('flight') || merchantLower.includes('hotel')) {\n    category = 'travel';\n  } else if (merchantLower.includes('restaurant') || merchantLower.includes('food')) {\n    category = 'dining';\n  } else if (merchantLower.includes('grocery') || merchantLower.includes('supermarket')) {\n    category = 'groceries';\n  } else if (merchantLower.includes('gas') || merchantLower.includes('fuel')) {\n    category = 'gas';\n  }\n  \n  // Determine merchant categories for response\n  const merchantCategories = [category];\n  if (merchantLower.includes('online') || merchantLower.includes('.com')) {\n    merchantCategories.push('online_shopping');\n  }\n  \n  // Fallback card recommendations based on category\n  let recommendations = [];\n  \n  switch (category) {\n    case 'amazon':\n      recommendations = [\n        {\n          id: \"amazon-prime\",\n          name: 'Amazon Prime Rewards',\n          issuer: \"Chase\",\n          network: \"Visa\",\n          image: 'amazon_prime.png',\n          reward_percentage: 5,\n          cashback: (amount * 5) / 100,\n          best_category: \"amazon\",\n          explanation: \"5% back at Amazon with Prime membership\",\n          annual_fee: 0,\n          score: (amount * 5) / 100,\n          intro_offer: \"$100 Amazon Gift Card upon approval\",\n          bonus_value: 100\n        },\n        {\n          id: \"citi-double\",\n          name: 'Citi Double Cash',\n          issuer: \"Citibank\",\n          network: \"Mastercard\",\n          image: 'citi_double_cash.png',\n          reward_percentage: 2,\n          cashback: (amount * 2) / 100,\n          best_category: \"other\",\n          explanation: \"2% cash back (1% when you buy + 1% when you pay)\",\n          annual_fee: 0,\n          score: (amount * 2) / 100,\n          intro_offer: \"$200 welcome bonus after spending $1500 in first 6 months\",\n          bonus_value: 200\n        },\n        {\n          id: \"wells-active\",\n          name: 'Wells Fargo Active Cash',\n          issuer: \"Wells Fargo\",\n          network: \"Visa\",\n          image: 'wells_fargo_active_cash.png',\n          reward_percentage: 2,\n          cashback: (amount * 2) / 100,\n          best_category: \"other\",\n          explanation: \"2% cash back on all purchases\",\n          annual_fee: 0,\n          score: (amount * 2) / 100,\n          intro_offer: \"$200 cash rewards bonus after spending $1,000 in first 3 months\",\n          bonus_value: 200\n        }\n      ];\n      break;\n    case 'travel':\n      recommendations = [\n        {\n          id: \"cap-one-venture\",\n          name: 'Capital One Venture',\n          issuer: \"Capital One\",\n          network: \"Visa\",\n          image: 'capital_one_venture.png',\n          reward_percentage: 5,\n          cashback: (amount * 5) / 100,\n          best_category: \"travel\",\n          explanation: \"5X miles on travel booked through Capital One Travel\",\n          annual_fee: 95,\n          score: (amount * 5) / 100 - (95/365),\n          intro_offer: \"75,000 bonus miles after spending $4,000 in the first 3 months\",\n          bonus_value: 1312.50\n        },\n        {\n          id: \"chase-sapphire\",\n          name: 'Chase Sapphire Preferred',\n          issuer: \"Chase\",\n          network: \"Visa\",\n          image: 'chase_sapphire_preferred.png',\n          reward_percentage: 5,\n          cashback: (amount * 5) / 100,\n          best_category: \"travel\",\n          explanation: \"5X points on travel purchased through Chase\",\n          annual_fee: 95,\n          score: (amount * 5) / 100 - (95/365),\n          intro_offer: \"60,000 bonus points after spending $4,000 in the first 3 months\",\n          bonus_value: 750\n        },\n        {\n          id: \"amex-gold\",\n          name: 'Amex Gold Card',\n          issuer: \"American Express\",\n          network: \"American Express\",\n          image: 'amex_gold.png',\n          reward_percentage: 3,\n          cashback: (amount * 3) / 100,\n          best_category: \"travel\",\n          explanation: \"3X points on flights booked directly with airlines\",\n          annual_fee: 250,\n          score: (amount * 3) / 100 - (250/365),\n          intro_offer: \"60,000 Membership Rewards points after spending $4,000 in first 6 months\",\n          bonus_value: 1200\n        }\n      ];\n      break;\n    default:\n      recommendations = [\n        {\n          id: \"citi-double-default\",\n          name: 'Citi Double Cash',\n          issuer: \"Citibank\",\n          network: \"Mastercard\",\n          image: 'citi_double_cash.png',\n          reward_percentage: 2,\n          cashback: (amount * 2) / 100,\n          best_category: \"other\",\n          explanation: \"2% cash back (1% when you buy + 1% when you pay)\",\n          annual_fee: 0,\n          score: (amount * 2) / 100,\n          intro_offer: \"$200 welcome bonus after spending $1500 in first 6 months\",\n          bonus_value: 200\n        },\n        {\n          id: \"wells-active-default\",\n          name: 'Wells Fargo Active Cash',\n          issuer: \"Wells Fargo\",\n          network: \"Visa\",\n          image: 'wells_fargo_active_cash.png',\n          reward_percentage: 2,\n          cashback: (amount * 2) / 100,\n          best_category: \"other\",\n          explanation: \"2% cash back on all purchases\",\n          annual_fee: 0,\n          score: (amount * 2) / 100,\n          intro_offer: \"$200 cash rewards bonus after spending $1,000 in first 3 months\",\n          bonus_value: 200\n        },\n        {\n          id: \"cap-one-quick\",\n          name: 'Capital One Quicksilver',\n          issuer: \"Capital One\",\n          network: \"Visa\",\n          image: 'capital_one_quicksilver.png',\n          reward_percentage: 1.5,\n          cashback: (amount * 1.5) / 100,\n          best_category: \"other\",\n          explanation: \"1.5% cash back on all purchases\",\n          annual_fee: 0,\n          score: (amount * 1.5) / 100,\n          intro_offer: \"$200 cash bonus after spending $500 in first 3 months\",\n          bonus_value: 200\n        }\n      ];\n  }\n  \n  // Return formatted response matching API structure\n  return {\n    merchant: merchant,\n    merchant_categories: merchantCategories,\n    amount: amount,\n    recommendations: recommendations\n  };\n}"],"names":[],"sourceRoot":""}